{"ast":null,"code":"import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Cookie from \"universal-cookie\";\nconst DbUrl = \"https://isnft-prod.azurewebsites.net/api/users\";\nconst cookie = new Cookie();\n\nconst CrearUsario = (data, setErr, setForm, location) => {\n  let idowner = cookie.get(\"id_usr_tok\");\n  const id_photo = `${idowner}.${Date.now()}`;\n  const heade = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${idowner}`\n  };\n  const state = {\n    datos: {\n      \"id\": 5,\n      \"userName\": \"doee\",\n      \"email\": \"doe1@doe.com\",\n      \"createDate\": \"2022-04-06T21:42:42.152141\",\n      \"updateDate\": \"2022-04-06T21:42:42.152156\",\n      \"roles\": [{\n        \"id\": 1,\n        \"name\": \"host\"\n      }, {\n        \"id\": 2,\n        \"name\": \"traveler\"\n      }],\n      \"person\": {\n        \"name\": \"jhond\",\n        \"lastName\": \"does\",\n        \"phone\": \"202132121\",\n        \"birthday\": \"2002-10-18\",\n        \"city\": {\n          \"id\": 1,\n          \"name\": \"Armenia\"\n        },\n        \"houses\": []\n      }\n    },\n    formphot: {\n      \"id\": id_photo,\n      \"url\": \"\"\n    }\n  };\n  console.log(state.datos); // axios\n  //   .post(DbUrl, state.datos\n  //   , {\n  //     headers:heade\n  //}\n  //)\n  //.then(response => {\n  // console.log(response.data);\n  //})\n  //.catch(error => {\n  //  console.log(error);\n  //})\n  // let formdata = new FormData()\n  // formdata.append(\"file\", parse_text[2])\n  // axios({\n  // url: photoUrl,\n  //method: \"POST\",\n  //headers : heade,\n  //data: formdata,\n  //})\n  //.then((res) =>{\n  //console.log(res)\n  //})\n  //.catch((er) => console.log(er))\n  //    const DbUrlPhotos =`https://isnft-prod.azurewebsites.net/api/houses/photo?id=${data.id}`\n  //   axios\n\n  axios.post(baseUrl, {\n    \"id\": 5,\n    \"userName\": data.useName,\n    \"email\": data.email,\n    \"person\": {\n      \"name\": data.name,\n      \"lastName\": data.lastName,\n      \"phone\": Number(data.phone),\n      \"birthday\": \"2002-10-18\",\n      \"city\": {\n        \"id\": Number(data.cities)\n      }\n    }\n  }).then(response => {\n    var token = response.data;\n    cookies.set('id_usr_tok', token.accessToken, {\n      path: \"/\"\n    });\n    alert(`Bienvenido`);\n    window.location.href = \"./menu\";\n  }).catch(error => {\n    console.log(error);\n  });\n};\n\n_c = CrearUsario;\nexport default CrearUsario;\n\nvar _c;\n\n$RefreshReg$(_c, \"CrearUsario\");","map":{"version":3,"sources":["/root/dev/Red-Apoyo_Internacional/templeate/src/pages/helpers/helpCrearUsario.js"],"names":["React","useEffect","useState","axios","Cookie","DbUrl","cookie","CrearUsario","data","setErr","setForm","location","idowner","get","id_photo","Date","now","heade","state","datos","formphot","console","log","post","baseUrl","useName","email","name","lastName","Number","phone","cities","then","response","token","cookies","set","accessToken","path","alert","window","href","catch","error"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AAEA,MAAMC,KAAK,GAAG,gDAAd;AAEA,MAAMC,MAAM,GAAG,IAAIF,MAAJ,EAAf;;AAEA,MAAMG,WAAW,GAAG,CAACC,IAAD,EAAOC,MAAP,EAAeC,OAAf,EAAwBC,QAAxB,KAAqC;AAEvD,MAAIC,OAAO,GAAGN,MAAM,CAACO,GAAP,CAAW,YAAX,CAAd;AACA,QAAMC,QAAQ,GAAI,GAAEF,OAAQ,IAAGG,IAAI,CAACC,GAAL,EAAW,EAA1C;AACA,QAAMC,KAAK,GAAG;AACZ,oBAAgB,kBADJ;AAEZ,qBAAkB,UAASL,OAAQ;AAFvB,GAAd;AAIA,QAAMM,KAAK,GAAG;AACZC,IAAAA,KAAK,EAAE;AACL,YAAM,CADD;AAEL,kBAAY,MAFP;AAGL,eAAS,cAHJ;AAIL,oBAAc,4BAJT;AAKL,oBAAc,4BALT;AAML,eAAS,CACP;AACE,cAAM,CADR;AAEE,gBAAQ;AAFV,OADO,EAKP;AACE,cAAM,CADR;AAEE,gBAAQ;AAFV,OALO,CANJ;AAgBL,gBAAU;AACR,gBAAQ,OADA;AAER,oBAAY,MAFJ;AAGR,iBAAS,WAHD;AAIR,oBAAY,YAJJ;AAKR,gBAAQ;AACN,gBAAM,CADA;AAEN,kBAAQ;AAFF,SALA;AASR,kBAAU;AATF;AAhBL,KADK;AA6BZC,IAAAA,QAAQ,EAAE;AACR,YAAMN,QADE;AAER,aAAO;AAFC;AA7BE,GAAd;AAmCAO,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACC,KAAlB,EA3CuD,CA8CvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACAhB,EAAAA,KAAK,CACFoB,IADH,CACQC,OADR,EACiB;AACb,UAAM,CADO;AAEb,gBAAYhB,IAAI,CAACiB,OAFJ;AAGb,aAASjB,IAAI,CAACkB,KAHD;AAIb,cAAU;AACR,cAAQlB,IAAI,CAACmB,IADL;AAER,kBAAYnB,IAAI,CAACoB,QAFT;AAGR,eAASC,MAAM,CAACrB,IAAI,CAACsB,KAAN,CAHP;AAIR,kBAAY,YAJJ;AAKR,cAAQ;AACN,cAAMD,MAAM,CAACrB,IAAI,CAACuB,MAAN;AADN;AALA;AAJG,GADjB,EAeGC,IAfH,CAeQC,QAAQ,IAAI;AAChB,QAAIC,KAAK,GAAGD,QAAQ,CAACzB,IAArB;AACA2B,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,KAAK,CAACG,WAAhC,EAA6C;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAA7C;AACAC,IAAAA,KAAK,CAAE,YAAF,CAAL;AACAC,IAAAA,MAAM,CAAC7B,QAAP,CAAgB8B,IAAhB,GAAuB,QAAvB;AACD,GApBH,EAqBGC,KArBH,CAqBSC,KAAK,IAAI;AACdtB,IAAAA,OAAO,CAACC,GAAR,CAAYqB,KAAZ;AACD,GAvBH;AAwBD,CAnGD;;KAAMpC,W;AAoGN,eAAeA,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Cookie from \"universal-cookie\"\n\nconst DbUrl = \"https://isnft-prod.azurewebsites.net/api/users\";\n\nconst cookie = new Cookie();\n\nconst CrearUsario = (data, setErr, setForm, location) => {\n\n  let idowner = cookie.get(\"id_usr_tok\");\n  const id_photo = `${idowner}.${Date.now()}`\n  const heade = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${idowner}`\n  }\n  const state = {\n    datos: {\n      \"id\": 5,\n      \"userName\": \"doee\",\n      \"email\": \"doe1@doe.com\",\n      \"createDate\": \"2022-04-06T21:42:42.152141\",\n      \"updateDate\": \"2022-04-06T21:42:42.152156\",\n      \"roles\": [\n        {\n          \"id\": 1,\n          \"name\": \"host\"\n        },\n        {\n          \"id\": 2,\n          \"name\": \"traveler\"\n        }\n      ],\n      \"person\": {\n        \"name\": \"jhond\",\n        \"lastName\": \"does\",\n        \"phone\": \"202132121\",\n        \"birthday\": \"2002-10-18\",\n        \"city\": {\n          \"id\": 1,\n          \"name\": \"Armenia\"\n        },\n        \"houses\": []\n      }\n    },\n    formphot: {\n      \"id\": id_photo,\n      \"url\": \"\"\n    }\n  };\n\n  console.log(state.datos)\n\n\n  // axios\n  //   .post(DbUrl, state.datos\n  //   , {\n  //     headers:heade\n  //}\n  //)\n  //.then(response => {\n  // console.log(response.data);\n  //})\n  //.catch(error => {\n  //  console.log(error);\n  //})\n\n  // let formdata = new FormData()\n\n  // formdata.append(\"file\", parse_text[2])\n  // axios({\n  // url: photoUrl,\n  //method: \"POST\",\n  //headers : heade,\n  //data: formdata,\n  //})\n  //.then((res) =>{\n  //console.log(res)\n  //})\n  //.catch((er) => console.log(er))\n\n  //    const DbUrlPhotos =`https://isnft-prod.azurewebsites.net/api/houses/photo?id=${data.id}`\n  //   axios\n  axios\n    .post(baseUrl, {\n      \"id\": 5,\n      \"userName\": data.useName,\n      \"email\": data.email,\n      \"person\": {\n        \"name\": data.name,\n        \"lastName\": data.lastName,\n        \"phone\": Number(data.phone),\n        \"birthday\": \"2002-10-18\",\n        \"city\": {\n          \"id\": Number(data.cities),\n        },\n      }\n    })\n    .then(response => {\n      var token = response.data;\n      cookies.set('id_usr_tok', token.accessToken, { path: \"/\" });\n      alert(`Bienvenido`);\n      window.location.href = \"./menu\";\n    })\n    .catch(error => {\n      console.log(error);\n    })\n}\nexport default CrearUsario;"]},"metadata":{},"sourceType":"module"}